# Dockerignore for monorepo builds (Storybook + Admin Dashboard)
# Build context: monorepo root
# Include what's needed to build both apps with pnpm

# Exclude all root-level items except what we need
/*
!/package.json
!/pnpm-workspace.yaml
!/pnpm-lock.yaml
!/storybook
!/shared
!/apps

# Include only what's needed from shared
/shared/*
!/shared/ui
!/shared/assets
# Exclude shared/ui build artifacts and node_modules (pnpm will install fresh)
/shared/ui/.next
/shared/ui/node_modules

# Include apps we need to build
/apps/*
!/apps/storybook
!/apps/admin

# Admin Dashboard - include full app for Docker build
# Exclude only node_modules and build artifacts
/apps/admin/node_modules
/apps/admin/.next
/apps/admin/out
/apps/admin/docs
/apps/admin/specs
/apps/admin/tests
/apps/admin/app_review

# Exclude unnecessary storybook subdirs
/storybook/node_modules
# /storybook/build - KEEP THIS, needed for deployment
/storybook/docs
/storybook/reports
/storybook/templates
/storybook/scripts
/storybook/deployment
/storybook/docker

# Exclude unnecessary from auth-wrapper
/storybook/auth-wrapper/node_modules
/storybook/auth-wrapper/.next
/storybook/auth-wrapper/out
/storybook/auth-wrapper/.env*
/storybook/auth-wrapper/*.md
/storybook/auth-wrapper/deploy-debug-log*.md

# Exclude tools
/tools

# Exclude other monorepo dirs
/libs
