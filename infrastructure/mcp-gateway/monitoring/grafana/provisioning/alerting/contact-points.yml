apiVersion: 1

# Telegram Contact Point for MCP Gateway Alerts
contactPoints:
  - orgId: 1
    name: Telegram - MCP Alerts
    receivers:
      - uid: telegram-mcp-alerts
        type: telegram
        settings:
          bottoken: ${TELEGRAM_BOT_TOKEN}
          chatid: ${TELEGRAM_CHAT_ID}
          message: |
            {{ if eq .Status "firing" }}ğŸš¨ <b>ALERT FIRING</b> ğŸ”¥{{ else }}âœ… <b>RESOLVED</b>{{ end }}

            <b>{{ .Labels.alertname }}</b>
            Service: <code>{{ .Labels.service }}</code>
            Severity: {{ if eq .Labels.severity "critical" }}ğŸ”´{{ else if eq .Labels.severity "warning" }}âš ï¸{{ else }}â„¹ï¸{{ end }} <b>{{ .Labels.severity }}</b>

            {{ .Annotations.description }}

            {{ if .DashboardURL }}ğŸ“Š <a href="{{ .DashboardURL }}">View Dashboard</a>{{ end }}
            {{ if .PanelURL }}ğŸ”— <a href="{{ .PanelURL }}">View Panel</a>{{ end }}

            â° {{ .StartsAt.Format "2006-01-02 15:04:05 MST" }}
          parse_mode: HTML
          disable_web_page_preview: true
          disable_notifications: false
