import{j as e}from"./jsx-runtime-DF2Pcvd1.js";import{r as i}from"./index-B2-qRKKC.js";import{u as C}from"./index.esm-SGBzMz4R.js";import{a as F,o as S,s as y}from"./schemas-C3QG-Qu7.js";import{C as q,a as A,b as V,d as k}from"./Card-CHzXRqp1.js";import{B as o}from"./Button-PgnE6Xyj.js";import{L as g,I as w}from"./Input-C2o_RQ9B.js";import{A as I,a as R}from"./alert-D3j30XLg.js";import{c as z}from"./cn-CKXzwFwe.js";import{E as B}from"./eye-off-z17qZm2P.js";import{E as J}from"./eye-B2FZkYMJ.js";const T=S({email:y().email("Invalid email address"),password:y().min(8,"Password must be at least 8 characters")});function l({onSuccess:a,onError:r,redirectUrl:n="/dashboard",showPasswordReset:j=!0,showRegisterLink:v=!0,className:N}){var f,x;const[t,b]=i.useState(!1),[d,m]=i.useState(""),[c,p]=i.useState(!1),{register:u,handleSubmit:L,formState:{errors:h}}=C({resolver:F(T)}),P=async E=>{m(""),p(!0);try{await new Promise(s=>setTimeout(s,1e3)),a==null||a(E),n&&(window.location.href=n)}catch(s){const _=s instanceof Error?s.message:"An error occurred";m(_),r==null||r(s)}finally{p(!1)}};return e.jsxs(q,{variant:"default",className:z("w-full max-w-md shadow-lg",N),children:[e.jsx(A,{className:"space-y-4 text-center",children:e.jsx(V,{className:"text-2xl font-light",children:"Jetzt Anmelden"})}),e.jsxs(k,{className:"space-y-6",children:[e.jsxs("form",{onSubmit:L(P),className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"email",children:"Email"}),e.jsx(w,{id:"email",type:"email",placeholder:"deine@mail.com",...u("email"),error:(f=h.email)==null?void 0:f.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"password",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(w,{id:"password",type:t?"text":"password",placeholder:"Passwort",...u("password"),error:(x=h.password)==null?void 0:x.message}),e.jsx(o,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2",onClick:()=>b(!t),children:t?e.jsx(B,{className:"h-4 w-4"}):e.jsx(J,{className:"h-4 w-4"})})]})]}),d&&e.jsx(I,{variant:"destructive",children:e.jsx(R,{children:d})}),e.jsx(o,{type:"submit",variant:"primary",fullWidth:!0,disabled:c,className:"text-lg py-3",children:c?"Wird angemeldet...":"Anmelden"})]}),j&&e.jsx("div",{className:"text-center",children:e.jsx(o,{variant:"link",size:"sm",className:"text-primary",children:"Passwort vergessen?"})}),v&&e.jsxs("div",{className:"text-center text-xs text-[var(--muted-foreground)]",children:["Noch kein Konto?"," ",e.jsx("a",{href:"/register",className:"text-primary hover:underline font-medium",children:"Jetzt registrieren"})]})]})]})}l.displayName="LoginForm";try{l.displayName="LoginForm",l.__docgenInfo={description:"",displayName:"LoginForm",props:{onSuccess:{defaultValue:null,description:"",name:"onSuccess",required:!1,type:{name:"((user: any) => void)"}},onError:{defaultValue:null,description:"",name:"onError",required:!1,type:{name:"((error: Error) => void)"}},redirectUrl:{defaultValue:{value:"/dashboard"},description:"",name:"redirectUrl",required:!1,type:{name:"string"}},showPasswordReset:{defaultValue:{value:"true"},description:"",name:"showPasswordReset",required:!1,type:{name:"boolean"}},showRegisterLink:{defaultValue:{value:"true"},description:"",name:"showRegisterLink",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}export{l as L};
