import{j as e}from"./jsx-runtime-DF2Pcvd1.js";import{r as d}from"./index-B2-qRKKC.js";import{u as T}from"./index.esm-SGBzMz4R.js";import{a as _,o as R,b as S,s as i}from"./schemas-C3QG-Qu7.js";import{C as I,a as V,b as k,d as A}from"./Card-CHzXRqp1.js";import{B as N}from"./Button-PgnE6Xyj.js";import{L as o,I as l}from"./Input-C2o_RQ9B.js";import{A as B,a as z}from"./alert-D3j30XLg.js";import{C as D}from"./checkbox-BAdY7mee.js";import{c as K}from"./cn-CKXzwFwe.js";import{E as M}from"./eye-off-z17qZm2P.js";import{E as W}from"./eye-B2FZkYMJ.js";const G=R({name:i().min(2,"Name must be at least 2 characters"),email:i().email("Invalid email address"),password:i().min(8,"Password must be at least 8 characters"),confirmPassword:i(),acceptTerms:S().refine(s=>s===!0,"You must accept the terms")}).refine(s=>s.password===s.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function c({onSuccess:s,onError:m,redirectUrl:p="/dashboard",showLoginLink:v=!0,requireTerms:b=!0,className:P}){var w,j,y,g;const[n,F]=d.useState(!1),[u,h]=d.useState(""),[f,x]=d.useState(!1),{register:a,handleSubmit:C,formState:{errors:r}}=T({resolver:_(G)}),E=async q=>{h(""),x(!0);try{await new Promise(t=>setTimeout(t,1e3)),s==null||s(q),p&&(window.location.href=p)}catch(t){const L=t instanceof Error?t.message:"An error occurred";h(L),m==null||m(t)}finally{x(!1)}};return e.jsxs(I,{variant:"default",className:K("w-full max-w-md shadow-lg",P),children:[e.jsx(V,{className:"space-y-4 text-center",children:e.jsx(k,{className:"text-2xl font-light",children:"Konto Erstellen"})}),e.jsxs(A,{className:"space-y-6",children:[e.jsxs("form",{onSubmit:C(E),className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"name",children:"Name"}),e.jsx(l,{id:"name",placeholder:"Dein Name",...a("name"),error:(w=r.name)==null?void 0:w.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"email",children:"Email"}),e.jsx(l,{id:"email",type:"email",placeholder:"deine@mail.com",...a("email"),error:(j=r.email)==null?void 0:j.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"password",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(l,{id:"password",type:n?"text":"password",placeholder:"Mindestens 8 Zeichen",...a("password"),error:(y=r.password)==null?void 0:y.message}),e.jsx(N,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2",onClick:()=>F(!n),children:n?e.jsx(M,{className:"h-4 w-4"}):e.jsx(W,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"confirmPassword",children:"Passwort bestÃ¤tigen"}),e.jsx(l,{id:"confirmPassword",type:"password",placeholder:"Passwort wiederholen",...a("confirmPassword"),error:(g=r.confirmPassword)==null?void 0:g.message})]}),b&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(D,{id:"terms",...a("acceptTerms")}),e.jsxs("label",{htmlFor:"terms",className:"text-sm text-[var(--muted-foreground)]",children:["Ich akzeptiere die"," ",e.jsx("a",{href:"/terms",className:"text-primary hover:underline",children:"AGB"})]})]}),r.acceptTerms&&e.jsx("p",{className:"text-sm text-red-500",children:r.acceptTerms.message}),u&&e.jsx(B,{variant:"destructive",children:e.jsx(z,{children:u})}),e.jsx(N,{type:"submit",variant:"primary",fullWidth:!0,disabled:f,className:"text-lg py-3",children:f?"Wird erstellt...":"Registrieren"})]}),v&&e.jsxs("div",{className:"text-center text-xs text-[var(--muted-foreground)]",children:["Bereits ein Konto?"," ",e.jsx("a",{href:"/login",className:"text-primary hover:underline font-medium",children:"Jetzt anmelden"})]})]})]})}c.displayName="RegisterForm";try{c.displayName="RegisterForm",c.__docgenInfo={description:"",displayName:"RegisterForm",props:{onSuccess:{defaultValue:null,description:"",name:"onSuccess",required:!1,type:{name:"((user: any) => void)"}},onError:{defaultValue:null,description:"",name:"onError",required:!1,type:{name:"((error: Error) => void)"}},redirectUrl:{defaultValue:{value:"/dashboard"},description:"",name:"redirectUrl",required:!1,type:{name:"string"}},showLoginLink:{defaultValue:{value:"true"},description:"",name:"showLoginLink",required:!1,type:{name:"boolean"}},requireTerms:{defaultValue:{value:"true"},description:"",name:"requireTerms",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}export{c as R};
