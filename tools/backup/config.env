# Ozean Licht Backup Configuration
# Storage Box: Hetzner BX21 (5TB)
# Last updated: 2024-12-01

# ===== Storage Box Connection =====
STORAGE_BOX_USER="u513736"
STORAGE_BOX_HOST="u513736.your-storagebox.de"
STORAGE_BOX_PORT="23"
SSH_KEY_PATH="/home/adw-user/.ssh/storagebox_backup"

# ===== Borg Repository =====
BORG_REPO="u513736@u513736.your-storagebox.de:./borg-backup"
BORG_PASSPHRASE="ozean-backup-2024-secure"
BORG_RSH="ssh -p 23 -i /home/adw-user/.ssh/storagebox_backup"

# ===== Backup Paths =====
# Code and configuration
BACKUP_CODE_PATH="/opt/ozean-licht-ecosystem"

# Exclude patterns (relative to BACKUP_CODE_PATH)
BACKUP_EXCLUDES=(
    "node_modules"
    ".next"
    ".git"
    "*.log"
    ".pnpm-store"
    "dist"
    "build"
    ".cache"
    "__pycache__"
    "*.pyc"
    ".turbo"
)

# ===== Database Configuration =====
# Database URLs (loaded from main .env)
DB_BACKUP_DIR="/tmp/ozean-db-backups"

# ===== Retention Policy =====
# Keep last 24 backups (3 days at 3-hour intervals)
KEEP_HOURLY=24
# Daily backups
KEEP_DAILY=14
# Weekly backups
KEEP_WEEKLY=8
# Monthly backups
KEEP_MONTHLY=6

# ===== Backup Schedule =====
# Full backup every 3 hours: 0 */3 * * *

# ===== Notifications =====
# Telegram notifications (optional)
TELEGRAM_ENABLED="false"
# TELEGRAM_BOT_TOKEN=""
# TELEGRAM_CHAT_ID=""

# ===== Logging =====
LOG_DIR="/opt/ozean-licht-ecosystem/tools/backup/logs"
LOG_RETENTION_DAYS=30
